<div class="authors-row">
  <div class="authors-header-row">
    <div class="authors-prev"></div>
    <h2 class="authors-title-row">
      <a href="{{ "/autores/" | relURL }}">autores</a>
    </h2>
    <div class="authors-next"></div>
  </div>

  <div class="swiper authors-swiper">
    <div class="swiper-wrapper">
      {{ $authors := shuffle (where .Site.RegularPages "Section" "autores") }}
      {{ range $authors }}
        <div class="swiper-slide">
          <a href="{{ .RelPermalink }}" class="author-card-link-row">
            <div class="author-card-row">
              <div class="author-photo-row">
                <img src="{{ .Params.thumbnail | relURL }}" alt="{{ .Title }}">
              </div>
              <div class="author-info-row">
                <h3>{{ .Title }}</h3>
                <p>{{ .Params.bio }}</p>
              </div>
            </div>
          </a>
        </div>
      {{ end }}
    </div>
  </div>
</div>

<!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  new Swiper(".authors-swiper", {
    spaceBetween: 24,
    loop: true,
    navigation: {
      nextEl: ".authors-next",
      prevEl: ".authors-prev",
    },
    autoplay: false,
    grabCursor: true,
    breakpoints: {
      0: { slidesPerView: 1 },
      480: { slidesPerView: 1.2 },
      640: { slidesPerView: 2 },
      768: { slidesPerView: 2.5 },
      1024: { slidesPerView: 3 },
      1280: { slidesPerView: 4 },
      1536: { slidesPerView: 5 },
    },
  });
});
</script>

<style>
.authors-row {
  margin-top: 2rem;
  background-color: var(--accent-beige);
  padding: 2rem 1rem 4rem;
  overflow: hidden;
}

.authors-header-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 2rem;
}

.author-photo-row img {
  filter: grayscale(100%);
  transition: filter 0.3s ease;
}

/* TITLE */
.authors-title-row {
  color: var(--base-bg);
  font-size: clamp(1.8rem, 2vw, 1.8rem);
  font-weight: 600;
  margin: 0;
  text-decoration: none;
  color: inherit;
}

/* AUTHOR NAV BUTTONS (UNIQUE + ISOLATED) */
.authors-prev,
.authors-next {
  width: 36px;
  height: 36px;
  color: var(--base-bg);
  border: 2px solid var(--base-bg);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

/* HOVER EFFECT */
.authors-prev:hover,
.authors-next:hover {
  background-color: var(--base-bg);
  color: var(--forest-green);
}

/* ARROWS */
.authors-prev::after {
  content: "‹";
  font-size: 20px;
  font-weight: 700;
  line-height: 1;
}

.authors-next::after {
  content: "›";
  font-size: 20px;
  font-weight: 700;
  line-height: 1;
}

/* SLIDES */
.author-card-row {
  background: var(--base-bg);
  border-radius: 1rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: 1.5rem;
  text-align: center;
  transition: transform .2s ease;
}

.authors-title-row a {
  text-decoration: none;
  color: inherit;
}

.author-card-link-row {
  text-decoration: none;
  color: inherit;
}

.author-card-row:hover {
  transform: translateY(-4px);
}

.author-photo-row img {
  width: 110px;
  height: 110px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid var(--neutral-600);
}

.author-info-row h3 {
  font-size: 1.1em;
  margin-bottom: 0.5rem;
  color: var(--neutral-800);
}

.author-info-row p {
  font-size: 0.9em;
  color: #555;
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .authors-row {
    padding: 1.5rem 0.5rem 3rem;
  }

  .author-card-row {
    padding: 1rem;
  }

  .author-photo-row img {
    width: 90px;
    height: 90px;
  }
}

@media (max-width: 480px) {
  .authors-title-row {
    font-size: 1.2rem;
  }

  .authors-prev,
  .authors-next {
    width: 28px;
    height: 28px;
  }
}
</style>
